{
	"additionalNodes": [],
	"additionalParameters": {
		"root": {
			"height": 188,
			"width": 251
		}
	},
	"inputs": [ {
		"command": "BETS_UNIT",
		"name": "Units"
	}, {
		"command": "Variable",
		"name": "retreatPosition"
	}, {
		"command": "Variable",
		"name": "attackPosition"
	}, {
		"command": "Variable",
		"name": "targetPosition"
	}, {
		"command": "Variable",
		"name": "formationName"
	} ],
	"outputs": [],
	"properties": {
		"1S47AaCXFkCKm4cQOFZwfO83kRnBVoEs": {
			"height": 94,
			"title": "store",
			"width": 561,
			"x": 1315,
			"y": 194
		},
		"22C4ABV3iGwjw1htF8NM3xFkegk3t2na": {
			"height": 96,
			"title": "luaCondition",
			"width": 250,
			"x": 1601,
			"y": 388
		},
		"92FVUJjE58niC8GwGeRhmU8BYonvXzfQ": {
			"height": 72,
			"title": "waitForever",
			"width": 156,
			"x": 550,
			"y": 116
		},
		"97KZckdEJG2MamsuGSBfeVlWTjaFcusW": {
			"height": 91,
			"title": "luaCondition",
			"width": 199,
			"x": 286,
			"y": 35
		},
		"9yqLRPV08NumBuRttzNBQvWeBaCEheB8": {
			"height": 72,
			"title": "waitUntil",
			"width": 153,
			"x": 2054,
			"y": 971
		},
		"ChBqevqazFAv4DjouGwkJkONjNAKgxg9": {
			"height": 94,
			"title": "store",
			"width": 336,
			"x": 729,
			"y": -281
		},
		"Ec4e4cfiAMwm5u31GDozlAogvNC4t58G": {
			"height": 59,
			"title": "sequence",
			"width": 143,
			"x": 1861,
			"y": 871
		},
		"HRulKLnJK93RPqM63pdiRsZedXvp80LA": {
			"height": 60,
			"title": "sequence",
			"width": 143,
			"x": 1852,
			"y": 14
		},
		"HiYTXJxOaxzVBDHuxJABIIS84WjANLt4": {
			"height": 132,
			"title": "nota_seryma.moveCustomGroup",
			"width": 272,
			"x": 2068,
			"y": 488
		},
		"ILSYmKAqjIeprQ4RZI3yzikoNhUKW8Yq": {
			"height": 88,
			"title": "luaCondition",
			"width": 619,
			"x": 1181,
			"y": 37
		},
		"LMjsV8Tb1o4UHovM9M1kt3rYmu5tGH1B": {
			"height": 92,
			"title": "store",
			"width": 218,
			"x": 737,
			"y": -67
		},
		"Qj73srZaYKUaN3iErYQELkcrTgKCbZHF": {
			"height": 94,
			"title": "store",
			"width": 499,
			"x": 1315,
			"y": 286
		},
		"TvTrNBBTP1DphxeNriqhmHOb9EmIkHZn": {
			"height": 70,
			"title": "condition",
			"width": 138,
			"x": 730,
			"y": 43
		},
		"W7Jpo00FQSvwVAMHMowYeThr7K2B7Lky": {
			"height": 132,
			"title": "nota_seryma.moveCustomGroup",
			"width": 272,
			"x": 2053,
			"y": 714
		},
		"Y4aFrNsojoZ6fm4YWeP2zdMD1OOAI4Po": {
			"height": 92,
			"title": "luaCondition",
			"width": 258,
			"x": 1321,
			"y": 390
		},
		"ZRLBGr5lNyZ8iCHlcCIRbUhhiEzM7X2T": {
			"height": 132,
			"title": "nota_seryma.moveCustomGroup",
			"width": 272,
			"x": 2050,
			"y": 845
		},
		"bfDoRrUCaiTuTQTmxmavIjUh9wanI9Ez": {
			"height": 60,
			"title": "sequence",
			"width": 143,
			"x": 551,
			"y": 47
		},
		"gyd3qRDI7QCuvnQfZb5m9SQCGrttwQ8W": {
			"height": 60,
			"title": "sequence",
			"width": 143,
			"x": 982,
			"y": 47
		},
		"h8VTTX3dIzNPQ7Tn2DRf6AkZxmF2z16h": {
			"height": 59,
			"title": "sequence",
			"width": 143,
			"x": 1863,
			"y": 401
		},
		"k7mFtdU9JXWHLyW1OFQ1esuQeX1EWg7a": {
			"height": 54,
			"title": "success",
			"width": 132,
			"x": 1856,
			"y": 76
		},
		"kF6eZly1gk3uDwmHAfyneuiuzh1DKWV4": {
			"height": 59,
			"title": "sequence",
			"width": 143,
			"x": 1871,
			"y": 639
		},
		"lW9HkQ7elsTjpOFQRo9Y349kqf1Ujkzn": {
			"height": 94,
			"title": "store",
			"width": 439,
			"x": 1181,
			"y": -61
		},
		"rvUpBVMxA4qgLNQt8saroVxj5fq6eGoJ": {
			"height": 92,
			"title": "store",
			"width": 218,
			"x": 732,
			"y": -174
		},
		"sGoB5vxfRMweqXmF85WgnaFmVUwWA8JJ": {
			"height": 60,
			"title": "sequence",
			"width": 143,
			"x": 1130,
			"y": 296
		},
		"uU9DgDD0TrhAEIRCpohJH6IDpX4NZ8oh": {
			"height": 92,
			"title": "store",
			"width": 218,
			"x": 2054,
			"y": 629
		},
		"vNznZyLAAmVkVQaITjn9iJPXED3ryffb": {
			"height": 98,
			"title": "store",
			"width": 858,
			"x": 2010,
			"y": -52
		},
		"vnbJKpCW9kVH647a188nADCfg318ij8s": {
			"height": 94,
			"title": "store",
			"width": 439,
			"x": 1182,
			"y": -156
		},
		"wb0hvuKcRa0O4XIkBrDG6fKnzW0wKNSh": {
			"height": 92,
			"title": "store",
			"width": 218,
			"x": 2055,
			"y": 391
		},
		"xG4rhNUIQpMcGru7rLJTRjuWeadavdEK": {
			"height": 94,
			"title": "store",
			"width": 336,
			"x": 2011,
			"y": 48
		},
		"zUlJLHk7dj8ZN0T0GcQc25UMK1E1QNhy": {
			"height": 60,
			"title": "repeat",
			"width": 131,
			"x": 966,
			"y": 305
		}
	},
	"roles": [ {
		"categories": [],
		"name": "Role 0"
	} ],
	"root": {
		"children": [ {
			"children": [ {
				"children": [],
				"id": "ChBqevqazFAv4DjouGwkJkONjNAKgxg9",
				"nodeType": "luaCommand",
				"parameters": [ {
					"name": "var",
					"value": "formationDefinition"
				}, {
					"name": "value",
					"value": "formation.Definition(formationName)"
				}, {
					"name": "scriptName",
					"value": "store"
				} ],
				"scriptName": "store"
			}, {
				"children": [],
				"id": "rvUpBVMxA4qgLNQt8saroVxj5fq6eGoJ",
				"nodeType": "luaCommand",
				"parameters": [ {
					"name": "var",
					"value": "lastCalculatedHeading"
				}, {
					"name": "value",
					"value": "0"
				}, {
					"name": "scriptName",
					"value": "store"
				} ],
				"scriptName": "store"
			}, {
				"children": [],
				"id": "LMjsV8Tb1o4UHovM9M1kt3rYmu5tGH1B",
				"nodeType": "luaCommand",
				"parameters": [ {
					"name": "var",
					"value": "wantedPosition"
				}, {
					"name": "value",
					"value": "attackPosition"
				}, {
					"name": "scriptName",
					"value": "store"
				} ],
				"scriptName": "store"
			}, {
				"children": [ {
					"children": [ {
						"children": [],
						"id": "vnbJKpCW9kVH647a188nADCfg318ij8s",
						"nodeType": "luaCommand",
						"parameters": [ {
							"name": "var",
							"value": "groupPosition"
						}, {
							"name": "value",
							"value": "Vec3(Spring.GetUnitPosition(Units[1]))"
						}, {
							"name": "scriptName",
							"value": "store"
						} ],
						"scriptName": "store"
					}, {
						"children": [],
						"id": "lW9HkQ7elsTjpOFQRo9Y349kqf1Ujkzn",
						"nodeType": "luaCommand",
						"parameters": [ {
							"name": "var",
							"value": "newWantedHeading"
						}, {
							"name": "value",
							"value": "(wantedPosition - groupPosition):ToHeading()"
						}, {
							"name": "scriptName",
							"value": "store"
						} ],
						"scriptName": "store"
					}, {
						"children": [ {
							"children": [ {
								"children": [],
								"id": "vNznZyLAAmVkVQaITjn9iJPXED3ryffb",
								"nodeType": "luaCommand",
								"parameters": [ {
									"name": "var",
									"value": "relativeFormation"
								}, {
									"name": "value",
									"value": "formation.StaticTransform(formationDefinition.positions, newWantedHeading, nil, formationDefinition.defaults.spacing)"
								}, {
									"name": "scriptName",
									"value": "store"
								} ],
								"scriptName": "store"
							}, {
								"children": [],
								"id": "xG4rhNUIQpMcGru7rLJTRjuWeadavdEK",
								"nodeType": "luaCommand",
								"parameters": [ {
									"name": "var",
									"value": "lastCalculatedHeading"
								}, {
									"name": "value",
									"value": "newWantedHeading"
								}, {
									"name": "scriptName",
									"value": "store"
								} ],
								"scriptName": "store"
							} ],
							"id": "HRulKLnJK93RPqM63pdiRsZedXvp80LA",
							"nodeType": "sequence",
							"parameters": []
						}, {
							"children": [],
							"id": "k7mFtdU9JXWHLyW1OFQ1esuQeX1EWg7a",
							"nodeType": "success",
							"parameters": []
						} ],
						"id": "ILSYmKAqjIeprQ4RZI3yzikoNhUKW8Yq",
						"nodeType": "luaCondition",
						"parameters": [ {
							"name": "expression",
							"value": "(math.abs(newWantedHeading - lastCalculatedHeading) > 30) or (relativeFormation == nil)"
						}, {
							"name": "repeat",
							"value": "true"
						} ]
					} ],
					"id": "gyd3qRDI7QCuvnQfZb5m9SQCGrttwQ8W",
					"nodeType": "sequence",
					"parameters": []
				}, {
					"children": [ {
						"children": [ {
							"children": [],
							"id": "1S47AaCXFkCKm4cQOFZwfO83kRnBVoEs",
							"nodeType": "luaCommand",
							"parameters": [ {
								"name": "var",
								"value": "tacticalAdvantageOnAttack"
							}, {
								"name": "value",
								"value": "nota_seryma.TacticalAdvantageByHP(targetPosition, 1000, false)"
							}, {
								"name": "scriptName",
								"value": "store"
							} ],
							"scriptName": "store"
						}, {
							"children": [],
							"id": "Qj73srZaYKUaN3iErYQELkcrTgKCbZHF",
							"nodeType": "luaCommand",
							"parameters": [ {
								"name": "var",
								"value": "tacticalAdvantageOnRetreat"
							}, {
								"name": "value",
								"value": "nota_seryma.TacticalAdvantageByHP(attackPosition, 500, false)"
							}, {
								"name": "scriptName",
								"value": "store"
							} ],
							"scriptName": "store"
						}, {
							"children": [ {
								"children": [ {
									"children": [ {
										"children": [],
										"id": "wb0hvuKcRa0O4XIkBrDG6fKnzW0wKNSh",
										"nodeType": "luaCommand",
										"parameters": [ {
											"name": "var",
											"value": "wantedPosition"
										}, {
											"name": "value",
											"value": "targetPosition"
										}, {
											"name": "scriptName",
											"value": "store"
										} ],
										"scriptName": "store"
									}, {
										"children": [],
										"id": "HiYTXJxOaxzVBDHuxJABIIS84WjANLt4",
										"nodeType": "luaCommand",
										"parameters": [ {
											"name": "groupDefintion",
											"value": "Units"
										}, {
											"name": "position",
											"value": "wantedPosition"
										}, {
											"name": "formation",
											"value": "relativeFormation"
										}, {
											"name": "fight",
											"value": "true"
										}, {
											"name": "scriptName",
											"value": "nota_seryma.moveCustomGroup"
										} ],
										"scriptName": "nota_seryma.moveCustomGroup"
									} ],
									"id": "h8VTTX3dIzNPQ7Tn2DRf6AkZxmF2z16h",
									"nodeType": "sequence",
									"parameters": []
								}, {
									"children": [ {
										"children": [],
										"id": "uU9DgDD0TrhAEIRCpohJH6IDpX4NZ8oh",
										"nodeType": "luaCommand",
										"parameters": [ {
											"name": "var",
											"value": "wantedPosition"
										}, {
											"name": "value",
											"value": "attackPosition"
										}, {
											"name": "scriptName",
											"value": "store"
										} ],
										"scriptName": "store"
									}, {
										"children": [],
										"id": "W7Jpo00FQSvwVAMHMowYeThr7K2B7Lky",
										"nodeType": "luaCommand",
										"parameters": [ {
											"name": "groupDefintion",
											"value": "Units"
										}, {
											"name": "position",
											"value": "wantedPosition"
										}, {
											"name": "formation",
											"value": "relativeFormation"
										}, {
											"name": "fight",
											"value": "true"
										}, {
											"name": "scriptName",
											"value": "nota_seryma.moveCustomGroup"
										} ],
										"scriptName": "nota_seryma.moveCustomGroup"
									} ],
									"id": "kF6eZly1gk3uDwmHAfyneuiuzh1DKWV4",
									"nodeType": "sequence",
									"parameters": []
								} ],
								"id": "22C4ABV3iGwjw1htF8NM3xFkegk3t2na",
								"nodeType": "luaCondition",
								"parameters": [ {
									"name": "expression",
									"value": "tacticalAdvantageOnAttack > 0.4"
								}, {
									"name": "repeat",
									"value": "true"
								} ]
							}, {
								"children": [ {
									"children": [],
									"id": "ZRLBGr5lNyZ8iCHlcCIRbUhhiEzM7X2T",
									"nodeType": "luaCommand",
									"parameters": [ {
										"name": "groupDefintion",
										"value": "Units"
									}, {
										"name": "position",
										"value": "retreatPosition"
									}, {
										"name": "formation",
										"value": "relativeFormation"
									}, {
										"name": "fight",
										"value": "true"
									}, {
										"name": "scriptName",
										"value": "nota_seryma.moveCustomGroup"
									} ],
									"scriptName": "nota_seryma.moveCustomGroup"
								}, {
									"children": [],
									"id": "9yqLRPV08NumBuRttzNBQvWeBaCEheB8",
									"nodeType": "luaCommand",
									"parameters": [ {
										"name": "condition",
										"value": "false"
									}, {
										"name": "scriptName",
										"value": "waitUntil"
									} ],
									"scriptName": "waitUntil"
								} ],
								"id": "Ec4e4cfiAMwm5u31GDozlAogvNC4t58G",
								"nodeType": "sequence",
								"parameters": []
							} ],
							"id": "Y4aFrNsojoZ6fm4YWeP2zdMD1OOAI4Po",
							"nodeType": "luaCondition",
							"parameters": [ {
								"name": "expression",
								"value": "tacticalAdvantageOnRetreat > 0.2"
							}, {
								"name": "repeat",
								"value": "true"
							} ]
						} ],
						"id": "sGoB5vxfRMweqXmF85WgnaFmVUwWA8JJ",
						"nodeType": "sequence",
						"parameters": []
					} ],
					"id": "zUlJLHk7dj8ZN0T0GcQc25UMK1E1QNhy",
					"nodeType": "repeat",
					"parameters": []
				} ],
				"id": "TvTrNBBTP1DphxeNriqhmHOb9EmIkHZn",
				"nodeType": "condition",
				"parameters": [ {
					"name": "repeat",
					"value": "true"
				} ]
			} ],
			"id": "bfDoRrUCaiTuTQTmxmavIjUh9wanI9Ez",
			"nodeType": "sequence",
			"parameters": []
		}, {
			"children": [],
			"id": "92FVUJjE58niC8GwGeRhmU8BYonvXzfQ",
			"nodeType": "luaCommand",
			"parameters": [ {
				"name": "condition",
				"value": "false"
			}, {
				"name": "scriptName",
				"value": "waitUntil"
			} ],
			"scriptName": "waitUntil"
		} ],
		"id": "97KZckdEJG2MamsuGSBfeVlWTjaFcusW",
		"nodeType": "luaCondition",
		"parameters": [ {
			"name": "expression",
			"value": "#Units > 0"
		}, {
			"name": "repeat",
			"value": "true"
		} ]
	}
}