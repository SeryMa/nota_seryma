{
	"additionalNodes": [],
	"additionalParameters": {
		"root": {
			"height": 208,
			"width": 251
		}
	},
	"inputs": [ {
		"command": "BETS_UNIT",
		"name": "Units"
	}, {
		"command": "Variable",
		"name": "retreatPosition"
	}, {
		"command": "Variable",
		"name": "attackPosition"
	}, {
		"command": "Variable",
		"name": "targetPosition"
	}, {
		"command": "Variable",
		"name": "formationName"
	}, {
		"command": "Variable",
		"name": "unitThreshold"
	} ],
	"outputs": [],
	"properties": {
		"1S47AaCXFkCKm4cQOFZwfO83kRnBVoEs": {
			"height": 94,
			"title": "store",
			"width": 561,
			"x": 1314,
			"y": 194
		},
		"22C4ABV3iGwjw1htF8NM3xFkegk3t2na": {
			"height": 96,
			"title": "luaCondition",
			"width": 250,
			"x": 1873,
			"y": 482
		},
		"92FVUJjE58niC8GwGeRhmU8BYonvXzfQ": {
			"height": 72,
			"title": "waitForever",
			"width": 156,
			"x": 553,
			"y": 105
		},
		"97KZckdEJG2MamsuGSBfeVlWTjaFcusW": {
			"height": 91,
			"title": "luaCondition",
			"width": 199,
			"x": 286,
			"y": 35
		},
		"9yqLRPV08NumBuRttzNBQvWeBaCEheB8": {
			"height": 72,
			"title": "waitUntil",
			"width": 153,
			"x": 2329,
			"y": 1184
		},
		"ChBqevqazFAv4DjouGwkJkONjNAKgxg9": {
			"height": 94,
			"title": "store",
			"width": 336,
			"x": 728,
			"y": -281
		},
		"Ec4e4cfiAMwm5u31GDozlAogvNC4t58G": {
			"height": 59,
			"title": "sequence",
			"width": 143,
			"x": 2122,
			"y": 970
		},
		"HRulKLnJK93RPqM63pdiRsZedXvp80LA": {
			"height": 60,
			"title": "sequence",
			"width": 143,
			"x": 1849,
			"y": 14
		},
		"HiYTXJxOaxzVBDHuxJABIIS84WjANLt4": {
			"height": 132,
			"title": "nota_seryma.moveCustomGroup",
			"width": 272,
			"x": 2340,
			"y": 582
		},
		"ILSYmKAqjIeprQ4RZI3yzikoNhUKW8Yq": {
			"height": 88,
			"title": "luaCondition",
			"width": 619,
			"x": 1180,
			"y": 37
		},
		"LMjsV8Tb1o4UHovM9M1kt3rYmu5tGH1B": {
			"height": 92,
			"title": "store",
			"width": 218,
			"x": 736,
			"y": -67
		},
		"Qj73srZaYKUaN3iErYQELkcrTgKCbZHF": {
			"height": 94,
			"title": "store",
			"width": 499,
			"x": 1314,
			"y": 286
		},
		"TvTrNBBTP1DphxeNriqhmHOb9EmIkHZn": {
			"height": 70,
			"title": "condition",
			"width": 138,
			"x": 729,
			"y": 43
		},
		"W7Jpo00FQSvwVAMHMowYeThr7K2B7Lky": {
			"height": 132,
			"title": "nota_seryma.moveCustomGroup",
			"width": 272,
			"x": 2325,
			"y": 808
		},
		"Y4aFrNsojoZ6fm4YWeP2zdMD1OOAI4Po": {
			"height": 92,
			"title": "luaCondition",
			"width": 258,
			"x": 1593,
			"y": 484
		},
		"ZRLBGr5lNyZ8iCHlcCIRbUhhiEzM7X2T": {
			"height": 132,
			"title": "nota_seryma.moveCustomGroup",
			"width": 272,
			"x": 2325,
			"y": 1058
		},
		"bfDoRrUCaiTuTQTmxmavIjUh9wanI9Ez": {
			"height": 60,
			"title": "sequence",
			"width": 143,
			"x": 550,
			"y": 47
		},
		"eEw4FxcmXV9jUocxrNuxbXTF8timKZgh": {
			"height": 94,
			"title": "store",
			"width": 1146,
			"x": 1318,
			"y": 381
		},
		"eFbtLMHx9JX6D9z6vFESoKj13PqU0hOI": {
			"height": 92,
			"title": "store",
			"width": 218,
			"x": 2319,
			"y": 958
		},
		"etm88Oh3GanKintfPpdhHSQw4XmKQX6K": {
			"height": 88,
			"title": "luaCondition",
			"width": 214,
			"x": 1321,
			"y": 485
		},
		"gyd3qRDI7QCuvnQfZb5m9SQCGrttwQ8W": {
			"height": 60,
			"title": "sequence",
			"width": 143,
			"x": 980,
			"y": 47
		},
		"h8VTTX3dIzNPQ7Tn2DRf6AkZxmF2z16h": {
			"height": 59,
			"title": "sequence",
			"width": 143,
			"x": 2135,
			"y": 495
		},
		"k7mFtdU9JXWHLyW1OFQ1esuQeX1EWg7a": {
			"height": 54,
			"title": "success",
			"width": 132,
			"x": 1853,
			"y": 76
		},
		"kF6eZly1gk3uDwmHAfyneuiuzh1DKWV4": {
			"height": 59,
			"title": "sequence",
			"width": 143,
			"x": 2143,
			"y": 733
		},
		"l8VS22mVGcmbThM6Ko15M3u51ikKOd3t": {
			"height": 94,
			"title": "store",
			"width": 512,
			"x": 735,
			"y": -373
		},
		"lW9HkQ7elsTjpOFQRo9Y349kqf1Ujkzn": {
			"height": 94,
			"title": "store",
			"width": 439,
			"x": 1180,
			"y": -61
		},
		"ooZHOUmbtZuOW3tVdyWIr2QwY7KFc8OL": {
			"height": 132,
			"title": "nota_seryma.moveCustomGroup",
			"width": 272,
			"x": 1587,
			"y": 579
		},
		"rvUpBVMxA4qgLNQt8saroVxj5fq6eGoJ": {
			"height": 92,
			"title": "store",
			"width": 218,
			"x": 731,
			"y": -174
		},
		"sGoB5vxfRMweqXmF85WgnaFmVUwWA8JJ": {
			"height": 60,
			"title": "sequence",
			"width": 143,
			"x": 1129,
			"y": 296
		},
		"uU9DgDD0TrhAEIRCpohJH6IDpX4NZ8oh": {
			"height": 92,
			"title": "store",
			"width": 218,
			"x": 2326,
			"y": 723
		},
		"vNznZyLAAmVkVQaITjn9iJPXED3ryffb": {
			"height": 98,
			"title": "store",
			"width": 858,
			"x": 2007,
			"y": -52
		},
		"vnbJKpCW9kVH647a188nADCfg318ij8s": {
			"height": 94,
			"title": "store",
			"width": 439,
			"x": 1181,
			"y": -156
		},
		"wb0hvuKcRa0O4XIkBrDG6fKnzW0wKNSh": {
			"height": 92,
			"title": "store",
			"width": 218,
			"x": 2327,
			"y": 485
		},
		"xG4rhNUIQpMcGru7rLJTRjuWeadavdEK": {
			"height": 94,
			"title": "store",
			"width": 336,
			"x": 2008,
			"y": 48
		},
		"zUlJLHk7dj8ZN0T0GcQc25UMK1E1QNhy": {
			"height": 60,
			"title": "repeat",
			"width": 131,
			"x": 964,
			"y": 305
		}
	},
	"roles": [ {
		"categories": [],
		"name": "Role 0"
	} ],
	"root": {
		"children": [ {
			"children": [ {
				"children": [],
				"id": "l8VS22mVGcmbThM6Ko15M3u51ikKOd3t",
				"nodeType": "luaCommand",
				"parameters": [ {
					"name": "var",
					"value": "name"
				}, {
					"name": "value",
					"value": "UnitDefs[Spring.GetUnitDefID(nota_seryma.GetAlive(Units))].name "
				}, {
					"name": "scriptName",
					"value": "store"
				} ],
				"scriptName": "store"
			}, {
				"children": [],
				"id": "ChBqevqazFAv4DjouGwkJkONjNAKgxg9",
				"nodeType": "luaCommand",
				"parameters": [ {
					"name": "var",
					"value": "formationDefinition"
				}, {
					"name": "value",
					"value": "formation.Definition(formationName)"
				}, {
					"name": "scriptName",
					"value": "store"
				} ],
				"scriptName": "store"
			}, {
				"children": [],
				"id": "rvUpBVMxA4qgLNQt8saroVxj5fq6eGoJ",
				"nodeType": "luaCommand",
				"parameters": [ {
					"name": "var",
					"value": "lastCalculatedHeading"
				}, {
					"name": "value",
					"value": "0"
				}, {
					"name": "scriptName",
					"value": "store"
				} ],
				"scriptName": "store"
			}, {
				"children": [],
				"id": "LMjsV8Tb1o4UHovM9M1kt3rYmu5tGH1B",
				"nodeType": "luaCommand",
				"parameters": [ {
					"name": "var",
					"value": "wantedPosition"
				}, {
					"name": "value",
					"value": "attackPosition"
				}, {
					"name": "scriptName",
					"value": "store"
				} ],
				"scriptName": "store"
			}, {
				"children": [ {
					"children": [ {
						"children": [],
						"id": "vnbJKpCW9kVH647a188nADCfg318ij8s",
						"nodeType": "luaCommand",
						"parameters": [ {
							"name": "var",
							"value": "groupPosition"
						}, {
							"name": "value",
							"value": "Vec3(Spring.GetUnitPosition(Units[1]))"
						}, {
							"name": "scriptName",
							"value": "store"
						} ],
						"scriptName": "store"
					}, {
						"children": [],
						"id": "lW9HkQ7elsTjpOFQRo9Y349kqf1Ujkzn",
						"nodeType": "luaCommand",
						"parameters": [ {
							"name": "var",
							"value": "newWantedHeading"
						}, {
							"name": "value",
							"value": "(wantedPosition - groupPosition):ToHeading()"
						}, {
							"name": "scriptName",
							"value": "store"
						} ],
						"scriptName": "store"
					}, {
						"children": [ {
							"children": [ {
								"children": [],
								"id": "vNznZyLAAmVkVQaITjn9iJPXED3ryffb",
								"nodeType": "luaCommand",
								"parameters": [ {
									"name": "var",
									"value": "relativeFormation"
								}, {
									"name": "value",
									"value": "formation.StaticTransform(formationDefinition.positions, newWantedHeading, nil, formationDefinition.defaults.spacing)"
								}, {
									"name": "scriptName",
									"value": "store"
								} ],
								"scriptName": "store"
							}, {
								"children": [],
								"id": "xG4rhNUIQpMcGru7rLJTRjuWeadavdEK",
								"nodeType": "luaCommand",
								"parameters": [ {
									"name": "var",
									"value": "lastCalculatedHeading"
								}, {
									"name": "value",
									"value": "newWantedHeading"
								}, {
									"name": "scriptName",
									"value": "store"
								} ],
								"scriptName": "store"
							} ],
							"id": "HRulKLnJK93RPqM63pdiRsZedXvp80LA",
							"nodeType": "sequence",
							"parameters": []
						}, {
							"children": [],
							"id": "k7mFtdU9JXWHLyW1OFQ1esuQeX1EWg7a",
							"nodeType": "success",
							"parameters": []
						} ],
						"id": "ILSYmKAqjIeprQ4RZI3yzikoNhUKW8Yq",
						"nodeType": "luaCondition",
						"parameters": [ {
							"name": "expression",
							"value": "(math.abs(newWantedHeading - lastCalculatedHeading) > 30) or (relativeFormation == nil)"
						}, {
							"name": "repeat",
							"value": "true"
						} ]
					} ],
					"id": "gyd3qRDI7QCuvnQfZb5m9SQCGrttwQ8W",
					"nodeType": "sequence",
					"parameters": []
				}, {
					"children": [ {
						"children": [ {
							"children": [],
							"id": "1S47AaCXFkCKm4cQOFZwfO83kRnBVoEs",
							"nodeType": "luaCommand",
							"parameters": [ {
								"name": "var",
								"value": "groupPosition"
							}, {
								"name": "value",
								"value": "nota_seryma.GetGroupPosition(Units)"
							}, {
								"name": "scriptName",
								"value": "store"
							} ],
							"scriptName": "store"
						}, {
							"children": [],
							"id": "Qj73srZaYKUaN3iErYQELkcrTgKCbZHF",
							"nodeType": "luaCommand",
							"parameters": [ {
								"name": "var",
								"value": "tacticalAdvantage"
							}, {
								"name": "value",
								"value": "nota_seryma.TacticalAdvantageByHP(groupPosition, 700, false)"
							}, {
								"name": "scriptName",
								"value": "store"
							} ],
							"scriptName": "store"
						}, {
							"children": [],
							"id": "eEw4FxcmXV9jUocxrNuxbXTF8timKZgh",
							"nodeType": "luaCommand",
							"parameters": [ {
								"name": "var",
								"value": "noUnits"
							}, {
								"name": "value",
								"value": "nota_seryma.GetSameUnitInArea({center = groupPosition , radius = 500}, name)"
							}, {
								"name": "scriptName",
								"value": "store"
							} ],
							"scriptName": "store"
						}, {
							"children": [ {
								"children": [ {
									"children": [ {
										"children": [ {
											"children": [],
											"id": "wb0hvuKcRa0O4XIkBrDG6fKnzW0wKNSh",
											"nodeType": "luaCommand",
											"parameters": [ {
												"name": "var",
												"value": "wantedPosition"
											}, {
												"name": "value",
												"value": "targetPosition"
											}, {
												"name": "scriptName",
												"value": "store"
											} ],
											"scriptName": "store"
										}, {
											"children": [],
											"id": "HiYTXJxOaxzVBDHuxJABIIS84WjANLt4",
											"nodeType": "luaCommand",
											"parameters": [ {
												"name": "groupDefintion",
												"value": "Units"
											}, {
												"name": "position",
												"value": "wantedPosition"
											}, {
												"name": "formation",
												"value": "relativeFormation"
											}, {
												"name": "fight",
												"value": "true"
											}, {
												"name": "scriptName",
												"value": "nota_seryma.moveCustomGroup"
											} ],
											"scriptName": "nota_seryma.moveCustomGroup"
										} ],
										"id": "h8VTTX3dIzNPQ7Tn2DRf6AkZxmF2z16h",
										"nodeType": "sequence",
										"parameters": []
									}, {
										"children": [ {
											"children": [],
											"id": "uU9DgDD0TrhAEIRCpohJH6IDpX4NZ8oh",
											"nodeType": "luaCommand",
											"parameters": [ {
												"name": "var",
												"value": "wantedPosition"
											}, {
												"name": "value",
												"value": "attackPosition"
											}, {
												"name": "scriptName",
												"value": "store"
											} ],
											"scriptName": "store"
										}, {
											"children": [],
											"id": "W7Jpo00FQSvwVAMHMowYeThr7K2B7Lky",
											"nodeType": "luaCommand",
											"parameters": [ {
												"name": "groupDefintion",
												"value": "Units"
											}, {
												"name": "position",
												"value": "wantedPosition"
											}, {
												"name": "formation",
												"value": "relativeFormation"
											}, {
												"name": "fight",
												"value": "true"
											}, {
												"name": "scriptName",
												"value": "nota_seryma.moveCustomGroup"
											} ],
											"scriptName": "nota_seryma.moveCustomGroup"
										} ],
										"id": "kF6eZly1gk3uDwmHAfyneuiuzh1DKWV4",
										"nodeType": "sequence",
										"parameters": []
									} ],
									"id": "22C4ABV3iGwjw1htF8NM3xFkegk3t2na",
									"nodeType": "luaCondition",
									"parameters": [ {
										"name": "expression",
										"value": "tacticalAdvantage > 0.8"
									}, {
										"name": "repeat",
										"value": "true"
									} ]
								}, {
									"children": [ {
										"children": [],
										"id": "eFbtLMHx9JX6D9z6vFESoKj13PqU0hOI",
										"nodeType": "luaCommand",
										"parameters": [ {
											"name": "var",
											"value": "wantedPosition"
										}, {
											"name": "value",
											"value": "retreatPosition"
										}, {
											"name": "scriptName",
											"value": "store"
										} ],
										"scriptName": "store"
									}, {
										"children": [],
										"id": "ZRLBGr5lNyZ8iCHlcCIRbUhhiEzM7X2T",
										"nodeType": "luaCommand",
										"parameters": [ {
											"name": "groupDefintion",
											"value": "Units"
										}, {
											"name": "position",
											"value": "wantedPosition"
										}, {
											"name": "formation",
											"value": "relativeFormation"
										}, {
											"name": "fight",
											"value": "true"
										}, {
											"name": "scriptName",
											"value": "nota_seryma.moveCustomGroup"
										} ],
										"scriptName": "nota_seryma.moveCustomGroup"
									}, {
										"children": [],
										"id": "9yqLRPV08NumBuRttzNBQvWeBaCEheB8",
										"nodeType": "luaCommand",
										"parameters": [ {
											"name": "condition",
											"value": "false"
										}, {
											"name": "scriptName",
											"value": "waitUntil"
										} ],
										"scriptName": "waitUntil"
									} ],
									"id": "Ec4e4cfiAMwm5u31GDozlAogvNC4t58G",
									"nodeType": "sequence",
									"parameters": []
								} ],
								"id": "Y4aFrNsojoZ6fm4YWeP2zdMD1OOAI4Po",
								"nodeType": "luaCondition",
								"parameters": [ {
									"name": "expression",
									"value": "tacticalAdvantage > 0.2"
								}, {
									"name": "repeat",
									"value": "true"
								} ]
							}, {
								"children": [],
								"id": "ooZHOUmbtZuOW3tVdyWIr2QwY7KFc8OL",
								"nodeType": "luaCommand",
								"parameters": [ {
									"name": "groupDefintion",
									"value": "Units"
								}, {
									"name": "position",
									"value": "retreatPosition"
								}, {
									"name": "formation",
									"value": "relativeFormation"
								}, {
									"name": "fight",
									"value": "false"
								}, {
									"name": "scriptName",
									"value": "nota_seryma.moveCustomGroup"
								} ],
								"scriptName": "nota_seryma.moveCustomGroup"
							} ],
							"id": "etm88Oh3GanKintfPpdhHSQw4XmKQX6K",
							"nodeType": "luaCondition",
							"parameters": [ {
								"name": "expression",
								"value": "noUnits > unitThreshold"
							}, {
								"name": "repeat",
								"value": "true"
							} ]
						} ],
						"id": "sGoB5vxfRMweqXmF85WgnaFmVUwWA8JJ",
						"nodeType": "sequence",
						"parameters": []
					} ],
					"id": "zUlJLHk7dj8ZN0T0GcQc25UMK1E1QNhy",
					"nodeType": "repeat",
					"parameters": []
				} ],
				"id": "TvTrNBBTP1DphxeNriqhmHOb9EmIkHZn",
				"nodeType": "condition",
				"parameters": [ {
					"name": "repeat",
					"value": "true"
				} ]
			} ],
			"id": "bfDoRrUCaiTuTQTmxmavIjUh9wanI9Ez",
			"nodeType": "sequence",
			"parameters": []
		}, {
			"children": [],
			"id": "92FVUJjE58niC8GwGeRhmU8BYonvXzfQ",
			"nodeType": "luaCommand",
			"parameters": [ {
				"name": "condition",
				"value": "false"
			}, {
				"name": "scriptName",
				"value": "waitUntil"
			} ],
			"scriptName": "waitUntil"
		} ],
		"id": "97KZckdEJG2MamsuGSBfeVlWTjaFcusW",
		"nodeType": "luaCondition",
		"parameters": [ {
			"name": "expression",
			"value": "#Units > 0"
		}, {
			"name": "repeat",
			"value": "true"
		} ]
	}
}